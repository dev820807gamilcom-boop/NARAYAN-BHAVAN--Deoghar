<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Narayan Bhavan | Room Rent Manager</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
--dark:#0f172a;
--green:#22c55e;
}

body{
margin:0;
font-family:Segoe UI,Arial,sans-serif;
background:#f1f5f9;
}

header{
background:linear-gradient(90deg,#020617,#0f172a);
color:#fff;
padding:14px 18px;
display:flex;
justify-content:space-between;
align-items:center;
}

/* Unique name branding */
.brand{
font-size:26px;
font-weight:900;
letter-spacing:4px;
display:flex;
align-items:center;
gap:10px;
font-family:Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
}
.brand span{color:#fff;}
.brand .mid{
color:var(--green);
font-size:30px;
margin-top:-2px;
}

.container{
max-width:1100px;
margin:auto;
padding:16px;
}

.card{
background:#fff;
padding:16px;
border-radius:14px;
margin-bottom:18px;
box-shadow:0 10px 25px rgba(0,0,0,.08);
}

input,select,button{
width:100%;
padding:11px;
border-radius:9px;
border:1px solid #cbd5e1;
margin-top:8px;
font-size:15px;
}

button{
background:var(--dark);
color:#fff;
border:none;
cursor:pointer;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:14px;
}

.room{
border:1px solid #e5e7eb;
padding:12px;
border-radius:12px;
background:#f8fafc;
}

.badge{
padding:4px 12px;
border-radius:20px;
color:#fff;
font-size:12px;
}

.pending{background:#f97316;}
.complete{background:#22c55e;}

.hide{display:none}

/* Admin 3-dot menu */
.menuBox{position:relative}
.dots{
font-size:24px;
cursor:pointer;
user-select:none;
padding:6px 10px;
border-radius:50%;
}
.dots:hover{background:rgba(255,255,255,.08)}

.menu{
position:absolute;
right:0;
top:36px;
background:#fff;
border-radius:10px;
box-shadow:0 8px 20px rgba(0,0,0,.25);
overflow:hidden;
display:none;
min-width:160px;
z-index:10;
}
.menu button,
.menu label{
background:#fff;
color:#111;
border:none;
width:100%;
text-align:left;
padding:11px 12px;
cursor:pointer;
display:block;
font-size:14px;
}
.menu button:hover,
.menu label:hover{background:#f1f5f9;}

.whatsapp{
position:fixed;
right:18px;
bottom:18px;
width:58px;
height:58px;
background:#25D366;
border-radius:50%;
display:flex;
align-items:center;
justify-content:center;
font-size:28px;
color:#fff;
text-decoration:none;
box-shadow:0 8px 18px rgba(0,0,0,.25);
z-index:50;
}

footer{
text-align:center;
font-size:13px;
color:#64748b;
padding:12px;
letter-spacing:1px;
}
</style>
</head>

<body>

<header>

<div class="brand">
<span>NARAYAN</span>
<span class="mid">â€¢</span>
<span>BHAVAN</span>
</div>

<div class="menuBox hide" id="adminMenu">
<div class="dots" onclick="toggleMenu()">â‹®</div>
<div class="menu" id="menu">
<button onclick="logout()">Logout</button>
<button onclick="exportData()">Backup Data</button>
<label>
Restore Data
<input type="file" hidden onchange="importData(event)">
</label>
</div>
</div>

</header>

<div class="container">

<!-- Login -->
<div class="card" id="loginBox">
<h3>Owner Login</h3>
<input type="password" id="password" placeholder="Enter owner password">
<button onclick="login()">Login</button>
</div>

<!-- Admin panel -->
<div class="card hide" id="adminBox">

<h3>Admin Control Panel</h3>

<select id="roomIndex">
<option value="0">Room 1</option>
<option value="1">Room 2</option>
<option value="2">Room 3</option>
<option value="3">Room 4</option>
</select>

<input type="text" id="renter" placeholder="Renter Name">
<input type="number" id="rent" placeholder="Monthly Rent (â‚¹)">
<input type="number" id="deposit" placeholder="Deposit Amount (â‚¹)">
<input type="number" id="dues" placeholder="Dues / Pending Amount (â‚¹)">

<select id="status">
<option value="Pending">Pending</option>
<option value="Complete">Complete</option>
</select>

<button onclick="saveRoom()">Save Room Details</button>

</div>

<!-- Public room section -->
<div class="card">
<h3>Room Details</h3>
<div class="grid" id="roomList"></div>
</div>

<!-- Address & map -->
<div class="card">
<h3>Property Address</h3>
Jasidih, Ghagada, Basavadih<br>
Near ITI College<br>
FJXW+85Q, Gajrajpur, Jharkhand â€“ 814142

<br><br>

<div style="border-radius:12px;overflow:hidden;border:1px solid #e5e7eb">
<iframe
src="https://www.google.com/maps?q=FJXW+85Q,+Gajrajpur,+Jharkhand+814142&output=embed"
width="100%"
height="230"
style="border:0"
loading="lazy"></iframe>
</div>
</div>

</div>

<footer>
MADE BY DEV RAJ
</footer>

<a class="whatsapp" href="https://wa.me/919709074230" target="_blank">ðŸŸ¢</a>

<script>
let rooms = JSON.parse(localStorage.getItem("narayanRooms")) || [
{renter:"",rent:"",deposit:"",dues:"",status:""},
{renter:"",rent:"",deposit:"",dues:"",status:""},
{renter:"",rent:"",deposit:"",dues:"",status:""},
{renter:"",rent:"",deposit:"",dues:"",status:""}
];

function login(){
if(password.value === "152325"){
loginBox.classList.add("hide");
adminBox.classList.remove("hide");
adminMenu.classList.remove("hide");
}else{
alert("Wrong password");
}
}

function logout(){
adminBox.classList.add("hide");
loginBox.classList.remove("hide");
adminMenu.classList.add("hide");
menu.style.display="none";
}

function toggleMenu(){
menu.style.display = (menu.style.display==="block")?"none":"block";
}

function saveRoom(){
let i = roomIndex.value;

rooms[i].renter  = renter.value;
rooms[i].rent    = rent.value;
rooms[i].deposit = deposit.value;
rooms[i].dues    = dues.value;
rooms[i].status  = status.value;

localStorage.setItem("narayanRooms",JSON.stringify(rooms));
showRooms();
alert("Room updated");
}

function showRooms(){
let html="";
rooms.forEach((r,i)=>{
let cls = (r.status==="Complete")?"complete":"pending";

html += `
<div class="room">
<b>Room ${i+1}</b><br>
<b>Renter Name:</b> ${r.renter || "-"}<br>
<b>Rent:</b> â‚¹ ${r.rent || 0}<br>
<b>Deposit:</b> â‚¹ ${r.deposit || 0}<br>
<b>Dues:</b> â‚¹ ${r.dues || 0}<br>
<b>Status:</b>
<span class="badge ${cls}">
${r.status || "-"}
</span>
</div>`;
});
roomList.innerHTML = html;
}

showRooms();

/* Backup / restore */
function exportData(){
let data = JSON.stringify(rooms);
let blob = new Blob([data],{type:"application/json"});
let a = document.createElement("a");
a.href = URL.createObjectURL(blob);
a.download = "narayan_bhavan_backup.json";
a.click();
}

function importData(e){
let file = e.target.files[0];
if(!file) return;

let reader = new FileReader();
reader.onload=function(){
rooms = JSON.parse(reader.result);
localStorage.setItem("narayanRooms",JSON.stringify(rooms));
showRooms();
alert("Data restored successfully");
};
reader.readAsText(file);
}
</script>

</body>
</html>
